<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SynexAPI - Ek API Servisleri</title>
    <link rel="stylesheet" href="style-page2.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ SynexAPI</h1>
            <p>Ek API servisleri - Sayfa 2</p>
        </header>

        <div class="api-cards">
            <!-- Translate API Kartƒ± -->
            <div class="api-card">
                <div class="api-header">
                    <div class="method-badge post">POST</div>
                    <div class="api-title">Translate</div>
                </div>

                <div class="endpoint">/api/translate</div>

                <div class="description">
                    Metin √ßeviri servisi - 100'den fazla dil desteƒüi
                </div>

                <div class="parameters">
                    <div class="section-title">Parameter:</div>
                    <div class="parameter">
                        <div class="checkbox checked">‚úì</div>
                        <div class="param-name">text</div>
                        <div class="param-desc">√áevrilecek metin</div>
                    </div>
                    <div class="parameter">
                        <div class="checkbox checked">‚úì</div>
                        <div class="param-name">target</div>
                        <div class="param-desc">Hedef dil kodu (tr, en, es, fr, de, vb.)</div>
                    </div>
                    <div class="parameter">
                        <div class="checkbox"></div>
                        <div class="param-name">source</div>
                        <div class="param-desc">Kaynak dil kodu (auto: otomatik tespit)</div>
                    </div>
                </div>

                <div class="response-section">
                    <div class="response-header" onclick="toggleResponse('translate')">
                        <div class="section-title">D√∂n√º≈ü:</div>
                        <div class="toggle-icon">‚ñº</div>
                    </div>
                    <div class="response-code" id="responseTranslate">{
  "status": "success",
  "endpoint": "/api/translate",
  "original_text": "Hello world",
  "translated_text": "Merhaba d√ºnya",
  "source_language": "en",
  "target_language": "tr",
  "translation_service": "LibreTranslate",
  "timestamp": "2024-01-15T14:30:00.000Z"
}</div>
                </div>

                <!-- Translate Demo Alanƒ± -->
                <div class="translate-demo">
                    <div class="section-title">Demo: √áeviri</div>
                    <div class="translate-container">
                        <div class="translate-input-group">
                            <textarea id="translateText" class="translate-input" placeholder="√áevrilecek metni girin...">Hello, how are you?</textarea>
                            <div class="language-selectors">
                                <select id="sourceLang" class="lang-select">
                                    <option value="auto">Auto Detect</option>
                                    <option value="en">English</option>
                                    <option value="tr">T√ºrk√ße</option>
                                    <option value="es">Espa√±ol</option>
                                    <option value="fr">Fran√ßais</option>
                                    <option value="de">Deutsch</option>
                                </select>
                                <div class="arrow">‚Üí</div>
                                <select id="targetLang" class="lang-select">
                                    <option value="tr">T√ºrk√ße</option>
                                    <option value="en">English</option>
                                    <option value="es">Espa√±ol</option>
                                    <option value="fr">Fran√ßais</option>
                                    <option value="de">Deutsch</option>
                                </select>
                            </div>
                            <button class="translate-btn" id="translateBtn">√áevir</button>
                        </div>
                        <div id="translateResult" class="translate-result"></div>
                    </div>
                </div>

                <div class="api-footer">
                    <div class="date">08.02.2025</div>
                    <button class="copy-btn" onclick="copyToClipboard('translate')">
                        Kopyala
                    </button>
                    <span class="success-message" id="successTranslate">Kopyalandƒ±!</span>
                </div>
            </div>
        </div>

        <!-- Sayfalama Butonlarƒ± -->
        <div class="pagination">
            <button class="page-btn prev" onclick="goToPage('prev')">
                ‚Üê
            </button>
            <button class="page-btn page-1" onclick="goToPage(1)">
                1
            </button>
            <button class="page-btn page-2 active" onclick="goToPage(2)">
                2
            </button>
            <button class="page-btn next" onclick="goToPage('next')" disabled>
                ‚Üí
            </button>
        </div>
    </div>

    <script>
        // Sayfa y√∂nlendirme fonksiyonu
        function goToPage(page) {
            if (page === 1) {
                window.location.href = 'index.html';
            } else if (page === 2) {
                window.location.href = 'page2.html';
            } else if (page === 'next') {
                window.location.href = 'page2.html';
            } else if (page === 'prev') {
                window.location.href = 'index.html';
            }
        }

        // Response b√∂l√ºmlerini a√ßƒ±p kapama
        function toggleResponse(type) {
            const responseElement = document.getElementById(`response${type.charAt(0).toUpperCase() + type.slice(1)}`);
            if (responseElement) {
                const toggleIcon = responseElement.parentElement.querySelector('.toggle-icon');
                
                if (responseElement.style.display === 'none' || !responseElement.style.display) {
                    responseElement.style.display = 'block';
                    toggleIcon.textContent = '‚ñ≤';
                } else {
                    responseElement.style.display = 'none';
                    toggleIcon.textContent = '‚ñº';
                }
            }
        }

        // Copy to clipboard function
        function copyToClipboard(type) {
            let responseCode;
            if (type === 'translate') {
                responseCode = `// Translate API Kullanƒ±mƒ±
POST /api/translate

// Body:
{
  "text": "Hello world",
  "target": "tr",
  "source": "auto"
}

// Response:
{
  "status": "success",
  "endpoint": "/api/translate",
  "original_text": "Hello world",
  "translated_text": "Merhaba d√ºnya",
  "source_language": "en",
  "target_language": "tr",
  "translation_service": "LibreTranslate",
  "timestamp": "2024-01-15T14:30:00.000Z"
}`;
            }
            
            navigator.clipboard.writeText(responseCode).then(() => {
                const successMessage = document.getElementById(`success${type.charAt(0).toUpperCase() + type.slice(1)}`);
                if (successMessage) {
                    successMessage.style.display = 'inline';
                    
                    setTimeout(() => {
                        successMessage.style.display = 'none';
                    }, 2000);
                }
            });
        }

        // Checkbox animasyonu
        document.querySelectorAll('.parameter').forEach(item => {
            item.addEventListener('click', function() {
                const checkbox = this.querySelector('.checkbox');
                checkbox.classList.toggle('checked');
                
                if (checkbox.classList.contains('checked')) {
                    checkbox.innerHTML = '‚úì';
                } else {
                    checkbox.innerHTML = '';
                }
            });
        });

        // Translate API Frontend
        class TranslateAPI {
            constructor() {
                this.apiBaseUrl = 'https://libretranslate.com/translate';
                this.init();
            }

            init() {
                this.setupEventListeners();
            }

            async translateText() {
                const textInput = document.getElementById('translateText');
                const sourceLang = document.getElementById('sourceLang').value;
                const targetLang = document.getElementById('targetLang').value;
                const resultElement = document.getElementById('translateResult');

                const text = textInput.value.trim();

                if (!text) {
                    this.showResult('‚ö†Ô∏è L√ºtfen √ßevrilecek metni girin!', 'error');
                    return;
                }

                if (text.length > 1000) {
                    this.showResult('‚ö†Ô∏è Metin √ßok uzun! Maksimum 1000 karakter.', 'error');
                    return;
                }

                try {
                    this.showResult('‚è≥ √áeviri yapƒ±lƒ±yor...', 'info');

                    const response = await fetch(this.apiBaseUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            q: text,
                            source: sourceLang === 'auto' ? 'auto' : sourceLang,
                            target: targetLang,
                            format: 'text'
                        })
                    });

                    const data = await response.json();

                    if (data.translatedText) {
                        this.displayTranslation(text, data.translatedText, sourceLang, targetLang);
                    } else {
                        this.showResult('‚ùå √áeviri yapƒ±lamadƒ±!', 'error');
                    }
                } catch (error) {
                    console.error('√áeviri hatasƒ±:', error);
                    this.showResult('‚ùå √áeviri servisine ula≈üƒ±lamadƒ±!', 'error');
                }
            }

            displayTranslation(original, translated, source, target) {
                const resultElement = document.getElementById('translateResult');
                
                const translateHTML = `
                    <div class="translation-card">
                        <div class="translation-original">
                            <div class="translation-label">Orijinal Metin (${this.getLanguageName(source)})</div>
                            <div class="translation-text">${original}</div>
                        </div>
                        <div class="translation-result">
                            <div class="translation-label">√áeviri (${this.getLanguageName(target)})</div>
                            <div class="translation-text">${translated}</div>
                        </div>
                        <div class="translation-info">
                            <small>√áeviri servisi: LibreTranslate</small>
                        </div>
                    </div>
                `;

                resultElement.innerHTML = translateHTML;
                resultElement.className = 'translate-result success';
                resultElement.style.display = 'block';
            }

            getLanguageName(code) {
                const languages = {
                    'auto': 'Otomatik',
                    'en': 'ƒ∞ngilizce',
                    'tr': 'T√ºrk√ße',
                    'es': 'ƒ∞spanyolca',
                    'fr': 'Fransƒ±zca',
                    'de': 'Almanca'
                };
                return languages[code] || code;
            }

            showResult(message, type) {
                const resultElement = document.getElementById('translateResult');
                resultElement.textContent = message;
                resultElement.className = `translate-result ${type}`;
                resultElement.style.display = 'block';
            }

            setupEventListeners() {
                document.getElementById('translateBtn').addEventListener('click', () => {
                    this.translateText();
                });

                // Enter tu≈üu ile √ßeviri
                document.getElementById('translateText').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && e.ctrlKey) {
                        this.translateText();
                    }
                });
            }
        }

        // Sayfa y√ºklendiƒüinde Translate API'yi ba≈ülat
        document.addEventListener('DOMContentLoaded', function() {
            window.translateAPI = new TranslateAPI();
            
            // Response b√∂l√ºmlerini ba≈ülangƒ±√ßta kapalƒ± yap
            document.querySelectorAll('.response-code').forEach(element => {
                element.style.display = 'none';
            });
            
            // T√ºm toggle icon'larƒ± ayarla
            document.querySelectorAll('.toggle-icon').forEach(icon => {
                icon.textContent = '‚ñº';
            });
        });
    </script>
</body>
</html>